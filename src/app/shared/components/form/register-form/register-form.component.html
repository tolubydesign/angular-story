<div data-component="Register User Form" class="grid w-full px-8 md:px-4 max-w-[500px] mx-auto">
  <div class="mb-4">
    <h1 class="text-2xl	md:text-3xl	font-bold	text-[#201F32]">Sign Up</h1>
  </div>

  <form class="flex flex-col gap-4" [formGroup]="registerUserForm" (submit)="submitForm()">

    <div class="flex flex-col gap-4">
      <!-- first name  -->
      <div class="flex flex-col">
        <label [class]="formLabelClassName" for="forename">First Name</label>
        <input [class]="formInputClassName"
          [class.border-red-600]="registerUserForm.controls.forename.invalid && (registerUserForm.controls.forename.dirty || registerUserForm.controls.forename.touched)"
          id="forename" type="text" formControlName="forename" />

        @if (registerUserForm.controls.forename.invalid && (registerUserForm.controls.forename.dirty ||
        registerUserForm.controls.forename.touched)) {
        <div class="alert alert-danger text-xs text-red-400 font-bold mt-2">
          @if (registerUserForm.controls.forename.errors?.['required']) {
          <p>Name is required.</p>
          }

          @if (registerUserForm.controls.forename.errors?.['minlength']) {
          <p>Name must be at least 4 characters long.</p>
          }
        </div>
        }
      </div>

      <!-- last name -->
      <div class="flex flex-col">
        <label [class]="formLabelClassName" for="surname">Last Name</label>
        <input [class]="formInputClassName"
          [class.border-red-600]="registerUserForm.controls.surname.invalid && (registerUserForm.controls.surname.dirty || registerUserForm.controls.surname.touched)"
          id="surname" type="text" formControlName="surname" />

        @if (registerUserForm.controls.surname.invalid && (registerUserForm.controls.surname.dirty ||
        registerUserForm.controls.surname.touched)) {
        <div class="alert alert-danger text-xs text-red-400 font-bold mt-2">
          @if (registerUserForm.controls.surname.errors?.['required']) {
          <p>Name is required.</p>
          }

          @if (registerUserForm.controls.surname.errors?.['minlength']) {
          <p>Name must be at least 4 characters long.</p>
          }
        </div>
        }
      </div>

      <!-- email -->
      <div class="flex flex-col">
        <label [class]="formLabelClassName" for="email">Email</label>
        <input [class]="formInputClassName"
          [class.border-red-600]="registerUserForm.controls.email.invalid && (registerUserForm.controls.email.dirty || registerUserForm.controls.email.touched)"
          id="email" type="text" formControlName="email" />

        @if (registerUserForm.controls.email.invalid && (registerUserForm.controls.email.dirty ||
        registerUserForm.controls.email.touched)) {
        <div class="alert alert-danger text-xs text-red-400 font-bold mt-2">
          @if (registerUserForm.controls.email.errors?.['required']) {
          <p>Name is required.</p>
          }

          @if (registerUserForm.controls.email.errors?.['minlength']) {
          <p>Name must be at least 4 characters long.</p>
          }

          @if (registerUserForm.controls.email.errors?.['forbiddenName']) {
          <p>Invalid email provided.</p>
          }
        </div>
        }
      </div>

      <!-- password -->
      <div class="flex flex-col">
        <label [class]="formLabelClassName" for="password">Password</label>
        <div class="relative">
          <input id="password" [type]="passwordType()" formControlName="password"
            class="form--input-password text-sm font-medium bg-transparent rounded-md border-[3px] border-[#413F5A] py-2 pl-3 pr-9 w-full"
            [class.border-red-600]="registerUserForm.controls.password.invalid && (registerUserForm.controls.password.dirty || registerUserForm.controls.password.touched)" />

          @if (registerUserForm.value.password && registerUserForm.value.password.length > 2) {
          <button class="absolute top-3 right-3" (click)="switchPasswordType()">
            <img class="w-5 h-auto" [src]="eyeIcon()"
              alt="Icon to indicate if the password is made visible or incomprehensible.">
          </button>
          }

          @if (registerUserForm.controls.password.invalid && (registerUserForm.controls.password.dirty ||
          registerUserForm.controls.password.touched)) {
          <div class="alert alert-danger text-xs text-red-400 font-bold mt-2">
            @if (registerUserForm.controls.password.errors?.['required']) {
            <p>Name is required.</p>
            }

            @if (registerUserForm.controls.password.errors?.['minlength']) {
            <p>Name must be at least 4 characters long.</p>
            }

            @if (registerUserForm.controls.password.errors?.['forbiddenName']) {
            <p>Invalid password provided.</p>
            }
          </div>
          }
        </div>
      </div>

      <!-- confirm password -->
      <div class="flex flex-col">
        <label [class]="formLabelClassName" for="confirmPassword">Confirm Password </label>
        <div class="relative">
          <input id="confirmPassword" [type]="passwordType()" formControlName="confirmPassword"
            class="form--input-password text-sm font-medium bg-transparent rounded-md border-[3px] border-[#413F5A] py-2 pl-3 pr-9 w-full"
            [class.border-red-600]="registerUserForm.controls.confirmPassword.invalid && (registerUserForm.controls.confirmPassword.dirty || registerUserForm.controls.confirmPassword.touched)" />

          @if (registerUserForm.value.confirmPassword && registerUserForm.value.confirmPassword.length > 2) {
          <button class="absolute top-3 right-3" (click)="switchPasswordType()">
            <img class="w-5 h-auto" [src]="eyeIcon()"
              alt="Icon to indicate if the password is made visible or incomprehensible.">
          </button>
          }

          @if (registerUserForm.controls.confirmPassword.invalid && (registerUserForm.controls.confirmPassword.dirty ||
          registerUserForm.controls.confirmPassword.touched)) {
          <div class="alert alert-danger text-xs text-red-400 font-bold mt-2">
            @if (registerUserForm.controls.confirmPassword.errors?.['required']) {
            <p>Name is required.</p>
            }

            @if (registerUserForm.controls.confirmPassword.errors?.['minlength']) {
            <p>Name must be at least 4 characters long.</p>
            }

            @if (registerUserForm.controls.confirmPassword.errors?.['forbiddenName']) {
            <p>Invalid password provided.</p>
            }
          </div>
          }
        </div>
      </div>
    </div>

    <div>
      <mat-checkbox [class]="formLabelClassName" color="primary" formControlName="rememberMe">Remember Me</mat-checkbox>
    </div>

    <button mat-raised-button color="axolotl" class="font-bold text-base" type="submit"
      [disabled]="!registerUserForm.valid">
      Sign Up
    </button>

    <div class="mt-4">
      <p class="text-sm font-medium text-[#301812]">Already have an account? <a class="text-[#6DA34D]"
          href="/login">Sign In</a></p>
    </div>
  </form>
</div>
